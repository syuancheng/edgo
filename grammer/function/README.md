# 函数
## 1. 定义
- 函数是结构化编程的最小模块单元。
- 函数是代码复用和测试的基本单元。
- 限制：
  - 无需前置申明
  - 不支持同名函数重载
  - 不支持默认参数
  - 支持不定长变参
  - 支持多返回值
  - 支持匿名函数和闭包
- 函数是第一类对象
  - 第一类对象：可在运行期创建，可以用作函数参数或返回值，可存入变量实体。
  - 只能支持判断其是否为nil
- 从函数返回局部变量指针是安全的，编译器会通过逃逸分析来决定是否在堆上分配内存。
- 命名规则
  - 通常是动词和介词加上名词
## 参数
- 参数
  - 形参：函数定义中的参数
  - 实参：函数调用时所传递的参数
- 不管是指针，引用类型还是其他类型函数的参数，都是拷贝传递（Test 1)
- 在函数调用前，会为形参和返回值分配内存空间，并将实参拷贝到形参内存
  - 实参来初始化形参
- 变参(Test2)
  - 本质上是一个切片，必须放到列表的尾部

## 匿名函数(Test3)
- 定义： 没有定义名字符号的函数。
  - 有没有名字
  - 可以在函数内部定义匿名函数
  - 匿名函数可以直接调用
  - 保存到变量
  - 作为参数或返回值
  - 不曾使用的匿名函数会被编译器当做错误
- 闭包

### Test1
golang中参数是拷贝传递的。

### Test2
函数中的变参(一个或者多个同类型数据，且放在尾部)，就是一个切片。(Test2)

### Test3
- 第一类对象，可用作函数参数或返回值。
- 从函数中返回局部变量指针是安全的，逃逸分析会决定是否在堆上分配内存。

### Test4
defer func() 注册，参数值被复制并缓存起来。